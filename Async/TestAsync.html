<html>
  <script>
    const posts = [
      { name: "Elirus", age: 21 },
      { name: "Sweety", age: 22 },
    ];

    function getPost() {
      setTimeout(() => {
        let output = "";
        posts.forEach((post, index) => {
          output += `<li>${post.name}</li>`;
        });
        document.body.innerHTML = output;
      }, 2000);
    }

    function createPost(post) 
    {
        return new Promise((resolve, reject) => {
            setTimeout(() => {
                posts.push(post);

                const error = true;

                if(!error) {
                    resolve();
                } else {
                    reject("Something went wrong");
                }
            }, 2000);
        })
    }

    createPost({name: 'PiSi', age: 3})
                .then(getPost)
                .catch(err => console.log("Error ", err));
  </script>
</html>
