<html>
    <script>

        // Left -> failure
        // Right -> success

        const Left = value => ({
            value,
            valueOf: () => value,
            map(fn)
            {
                return Left.of(value);      // cause of Left is failure, return value
            }
        });
        Left.of = Left;         

        const Right = value => ({
            value,
            valueOf: () => value,
            map(fn)
            {
                return Right.of(fn(value));     // cause of success, apply value and function
            }
        });
        Right.of = Right;

        // Below is Imperative code 
        /* function div(a, b)
        {
            if(isNaN(a) || isNaN(b))
            {
                throw new Error ('A or B is NaN.');
            }
            else 
            {
                return a / b;
            }
        } */

        // Below is FP code
        function div(a, b)
        {
            if(isNaN(a) || isNaN(b))
            {
                return Left.of('A or B is NaN.')
            }
            else 
            {
                return Right.of(a/b)
            }
        }
        
        const inc = (x) => x + 1;
        // div(10,5).map(inc).map(console.log);

        div(10,NaN).map(inc).map(console.log);

    </script>
</html>